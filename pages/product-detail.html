<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Onon_cake｜商品詳情頁</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>
  <body>
    <%- include('./layout/header'); -%>

    <div class="container pt-8 pb-5">
      <!-- 麵包屑 -->
      <nav
        class="my-breadcrumb"
        style="--bs-breadcrumb-divider: '>>'"
        aria-label="breadcrumb"
      >
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">首頁</a></li>
          <li class="breadcrumb-item"><a href="#">商品介紹</a></li>
          <li class="breadcrumb-item active" aria-current="page">
            經典可麗露禮盒
          </li>
        </ol>
      </nav>

      <div class="row">
        <!-- 縮圖（桌機：左直排，手機：下方橫排） -->
        <div class="col-12 col-lg-1 order-2 order-lg-1">
          <div
            class="row flex-lg-column align-items-center justify-content-between mb-6 pe-lg-1"
          >
            <div class="col-4 col-lg-10 g-lg-0 g-6 pb-lg-6">
              <img
                src="/assets/images/product-canele6.png"
                alt="可麗露1"
                class="img-fluid active border border-4 border-secondary-500 rounded-3"
              />
            </div>
            <div class="col-4 col-lg-10 g-lg-0 g-6 pb-lg-6">
              <img
                src="/assets/images/product-canele1.png"
                alt="可麗露2"
                class="img-fluid rounded-3"
              />
            </div>
            <div class="col-4 col-lg-10 g-lg-0 g-6 pb-lg-6">
              <img
                src="/assets/images/product-canele2.png"
                alt="可麗露3"
                class="img-fluid rounded-3"
              />
            </div>
          </div>
        </div>

        <!-- 主圖 -->
        <div class="col-12 col-lg-4 order-1 order-lg-2 pe-lg-6">
          <img
            id="mainImage"
            src="/assets/images/product-canele6.png"
            alt="商品主圖"
            class="img-fluid rounded w-100 rounded-4"
          />
        </div>

        <!-- 商品資訊 -->
        <div class="col-12 col-lg-7 order-3 ps-lg-8">
          <!-- 標題 + 愛心 -->
          <div class="d-flex align-items-center justify-content-between mb-4">
            <h3 class="fw-bold mb-0 text-primary-800 fs-lg-2">
              經典可麗露禮盒
            </h3>
            <button id="heartBtn" class="btn p-0 border-0 bg-transparent">
              <i id="heartIcon" class="bi bi-heart fs-4"></i>
            </button>
          </div>

          <!-- 商品描述 -->
          <p class="text-primary-700 mb-4 mb-lg-6">
            可麗露 canele - 超級經典的法式甜點之一，酥脆的外殼、軟Q的內餡，
            有著濃郁的蘭姆酒與香草香，最適合在下班的夜晚，一顆可麗露一杯酒，
            釋放一整天的壓力。
          </p>

          <!-- 價格 -->
          <div class="d-flex align-items-baseline">
            <span class="fs-3 text-secondary-500 fw-bold me-6 mb-4 mb-lg-6"
              >NT$ 420</span
            >
            <span class="text-decoration-line-through text-gray-700 fs-7"
              >原價 NT$ 480</span
            >
          </div>

          <!-- 提示標籤 -->
          <div class="mb-5 mb-lg-0">
            <span
              class="badge text-bg-secondary-50 text-secondary-500 p-2 fs-6 rounded-1 fw-500 border border-1 border-secondary-500"
              >此商品為冷凍寄出</span
            >
          </div>
          <hr class="d-none d-lg-block my-lg-6" />

          <!-- 桌機版 (一直顯示) -->
          <div class="cart-actions d-none d-lg-flex align-items-center w-100">
            <!-- 數量選擇器 -->
            <div class="quantity-control d-flex align-items-center w-50">
              <button class="qty-btn btn btn-outline-secondary">-</button>
              <input
                type="text"
                class="form-control text-center mx-2"
                value="1"
                readonly
                style="width: 60px"
              />
              <button class="qty-btn btn btn-outline-secondary">+</button>
            </div>

            <!-- 加入購物車 -->
            <button class="btn btn-primary w-50">加入購物車</button>
          </div>

          <!-- 手機版 (底部固定) -->
          <div
            class="cart-actions-mobile d-lg-none fixed-bottom px-3 py-4 bg-white shadow"
          >
            <!-- 初始狀態：只有加入購物車 -->
            <button id="mobileAddCart" class="btn btn-primary w-100">
              加入購物車
            </button>

            <!-- 點擊後：顯示數量 + 確認購物車 (預設隱藏) -->
            <div
              id="mobileCartControls"
              class="d-none bg-white py-1 px-2 rounded"
            >
              <div
                class="d-flex align-items-center justify-content-between mb-4"
              >
                <!-- 左邊：數量文字 -->
                <span class="me-6">數量：</span>

                <!-- 中間：數量控制框 -->
                <div class="quantity-control d-flex align-items-center">
                  <button class="qty-btn btn btn-outline-secondary">-</button>
                  <input
                    type="text"
                    class="form-control text-center mx-2"
                    value="1"
                    style="width: 60px"
                  />
                  <button class="qty-btn btn btn-outline-secondary">+</button>
                </div>

                <!-- 右邊：關閉按鈕 -->
                <button
                  id="closeCartControls"
                  type="button"
                  class="btn-close ms-8"
                  aria-label="Close"
                ></button>
              </div>

              <!-- 確認按鈕 -->
              <button class="btn btn-primary w-100">確認</button>
            </div>
          </div>

          <script>
            const mobileAddCart = document.getElementById("mobileAddCart");
            const mobileCartControls =
              document.getElementById("mobileCartControls");
            const closeCartControls =
              document.getElementById("closeCartControls");

            // 點擊「加入購物車」 → 顯示數量 + 確認
            mobileAddCart.addEventListener("click", () => {
              mobileAddCart.classList.add("d-none"); // 隱藏單一按鈕
              mobileCartControls.classList.remove("d-none"); // 顯示數量 + 確認
            });

            // 點擊「X」 → 回到初始狀態
            closeCartControls.addEventListener("click", () => {
              mobileCartControls.classList.add("d-none");
              mobileAddCart.classList.remove("d-none");
            });
          </script>
        </div>
      </div>
    </div>

    <!-- 商品規格區塊 -->
    <section class="tabs-container py-lg-8">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="tabs-inner-wrapper">
              <nav
                class="nav nav-tabs tabs-nav-top nowrap gap-2 mb-lg-6"
                id="myTab"
                role="tablist"
              >
                <button
                  class="tabs-nav-link active fs-lg-4 text-primary-800 fw-bold lh-288 p-lg-6"
                  id="product-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#product-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="product-tab-pane"
                  aria-selected="true"
                >
                  商品規格
                </button>
                <button
                  class="tabs-nav-link fs-lg-4 text-primary-800 fw-bold lh-288 p-lg-6"
                  id="notes-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#notes-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="notes-tab-pane"
                  aria-selected="false"
                >
                  注意事項
                </button>
                <button
                  class="tabs-nav-link fs-lg-4 text-primary-800 fw-bold lh-288 p-lg-6"
                  id="delivery-tab"
                  data-bs-toggle="tab"
                  data-bs-target="#delivery-tab-pane"
                  type="button"
                  role="tab"
                  aria-controls="delivery-tab-pane"
                  aria-selected="false"
                >
                  宅配寄送
                </button>
              </nav>

              <div class="tab-content tabs-content-bottom" id="myTabContent">
                <div
                  class="tab-pane fade show active"
                  id="product-tab-pane"
                  role="tabpanel"
                  aria-labelledby="product-tab"
                  tabindex="0"
                >
                  <h4
                    class="h4-with-icon nav-link d-flex align-items-center fs-lg-4 text-neutral-800 fw-bold lh-288 mb-4"
                  >
                    <span
                      class="material-symbols-outlined icon-filled fs-lg-4 text-primary-300 me-2"
                      >sms</span
                    >商品規格
                  </h4>
                  <div class="fs-lg-6 lh-24 text-neutral-800">
                    <p class="">【規格】6入/盒</p>
                    <p class="mb-4">【保存方式與最佳賞味期限】冷凍21天</p>
                    <p>
                      因台灣氣候悶熱，收貨後請一樣冷凍保存，以維持商品品質。
                    </p>
                    <p>本產品堅持不添加防腐劑，開封後請儘速食用完畢。</p>
                    <p>強烈建議：「肚子裡」絕對是最好的保存位置。</p>
                  </div>
                </div>
                <div
                  class="tab-pane fade"
                  id="notes-tab-pane"
                  role="tabpanel"
                  aria-labelledby="notes-tab"
                  tabindex="0"
                >
                  <h4
                    class="h4-with-icon nav-link d-flex align-items-center fs-lg-4 text-neutral-800 fw-bold lh-288 mb-4"
                  >
                    <span
                      class="material-symbols-outlined icon-filled fs-lg-4 text-primary-300 me-2"
                      >info</span
                    >注意事項
                  </h4>
                  <ul
                    class="fs-lg-6 lh-24 text-neutral-800 product-detail-list"
                  >
                    <li>
                      本產品含有牛奶、蛋、麩質的穀類，不適合其過敏體質者食用。
                    </li>
                    <li>訂單完成付款後，接單按訂單順序安排製作出貨。</li>
                    <li>若有希望到貨日期，請先私訊確認。</li>
                    <li>本店無提供外島配送之服務。</li>
                  </ul>
                </div>
                <div
                  class="tab-pane fade"
                  id="delivery-tab-pane"
                  role="tabpanel"
                  aria-labelledby="delivery-tab"
                  tabindex="0"
                >
                  <div
                    class="h4-with-icon nav-link d-flex align-items-center fs-lg-4 text-neutral-800 fw-bold lh-288 mb-4"
                  >
                    <span
                      class="material-symbols-outlined icon-filled fs-lg-4 text-primary-300 me-2"
                      >delivery_truck_speed</span
                    >宅配寄送
                  </div>
                  <ul
                    class="fs-lg-6 lh-24 text-neutral-800 product-detail-list"
                  >
                    <li>此商品為冷凍寄出。</li>
                    <li>為保證品質，此商品皆以「冷凍」宅配寄出。</li>
                    <li>部分商品可存放於不同溫層，較低溫層宅配寄出。</li>
                    <li>如遇商品溫層互不相容，請分開下單，運費無法合計。</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <img
        class="rectangle303-svg"
        src="/assets/images/Rectangle 303.svg"
        alt="背景波浪圖案"
      />
    </section>

    <!-- 熱銷排行 -->
    <section class="bg-secondary-50">
      <div class="index-container">
        <div class="text-center pb-6 pt-8 py-lg-8">
          <h1 class="fs-3 fs-lg-1">熱銷排行</h1>
        </div>
        <div class="row row-cols-1 row-cols-md-3 g-6">
          <div class="col mb-2 mb-lg-12">
            <div class="card card-shadow rounded-xl h-100 overflow-hidden">
              <span class="badge rank-badge fs-6">第一名</span>
              <div class="overflow-hidden">
                <img
                  src="/assets/images/canele.png"
                  class="card-img-top dessert-card"
                  alt="經典原味可麗露"
                />
              </div>
              <div class="card-body p-4">
                <h4 class="pb-2 text-primary-800">經典原味可麗露</h4>
                <p class="fs-6 text-primary-600 pb-4">
                  外酥內嫩焦糖香，法式經典一口入魂
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <p class="h4 text-primary-700">NT$ 180</p>
                  <button
                    type="button"
                    class="btn btn-outline-secondary rounded-pill btn-card-shopping-cart"
                    style="--bs-btn-padding-y: 0; --bs-btn-padding-x: 0"
                  >
                    <span class="material-icons"> shopping_cart </span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="col mb-2 mb-lg-12">
            <div class="card card-shadow rounded-xl h-100 overflow-hidden">
              <span class="badge rank-badge fs-6">第二名</span>
              <div class="overflow-hidden">
                <img
                  src="/assets/images/lemon-madeleine.png"
                  class="card-img-top dessert-card"
                  alt="糖漬檸檬瑪德蓮"
                />
              </div>
              <div class="card-body p-4">
                <h4 class="pb-2 text-primary-800">糖漬檸檬瑪德蓮</h4>
                <p class="fs-6 text-primary-600 pb-4">
                  清香檸檬糖漬點綴，鬆軟口感酸甜平衡剛剛好
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <p class="h4 text-primary-700">NT$ 150</p>
                  <button
                    type="button"
                    class="btn btn-outline-secondary rounded-pill btn-card-shopping-cart"
                    style="--bs-btn-padding-y: 0; --bs-btn-padding-x: 0"
                  >
                    <span class="material-icons"> shopping_cart </span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="col mb-6 mb-lg-12">
            <div class="card card-shadow rounded-xl h-100 overflow-hidden">
              <span class="badge rank-badge fs-6">第三名</span>
              <div class="overflow-hidden">
                <img
                  src="/assets/images/basque.png"
                  class="card-img-top dessert-card"
                  alt="超濃厚巴斯克"
                />
              </div>
              <div class="card-body p-4">
                <h4 class="pb-2 text-primary-800">超濃厚巴斯克</h4>
                <p class="fs-6 text-primary-600 pb-4">
                  香氣濃烈滑順綿密，入口即化的極致濃厚感
                </p>
                <div class="d-flex justify-content-between align-items-center">
                  <p class="h4 text-primary-700">NT$ 240</p>
                  <button
                    type="button"
                    class="btn btn-outline-secondary rounded-pill btn-card-shopping-cart"
                    style="--bs-btn-padding-y: 0; --bs-btn-padding-x: 0"
                  >
                    <span class="material-icons"> shopping_cart </span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="d-flex justify-content-center align-items-center pb-8 d-lg-none"
        >
          <a href="product.html" class="btn btn-light fs-6">更多商品</a>
        </div>
      </div>
    </section>

    <%- include('./layout/footer'); -%>

    <!-- 點擊愛心變紅色 -->
    <script>
      document
        .getElementById("heartBtn")
        .addEventListener("click", function () {
          const icon = document.getElementById("heartIcon");
          icon.classList.toggle("bi-heart");
          icon.classList.toggle("bi-heart-fill");
          icon.classList.toggle("text-danger"); // 切換 Bootstrap 紅色
        });
    </script>

    <script type="module" src="../main.js"></script>
  </body>
</html>
